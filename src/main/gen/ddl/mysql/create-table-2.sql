
DROP TABLE IF EXISTS `UME_WECHAT_USER` ;
CREATE TABLE `UME_WECHAT_USER` (
    `USER_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '用户识别ID',
    `WECHAT_OPENID` VARCHAR(32) BINARY NOT NULL	 COMMENT '微信用户openid',
    `WECHAT_CITY` VARCHAR(64) BINARY 	 COMMENT '微信用户所属城市',
    `WECHAT_COUNTRY` VARCHAR(64) BINARY 	 COMMENT '微信用户所属国家',
    `WECHAT_HEADIMGURL` VARCHAR(512) BINARY 	 COMMENT '微信用户头像',
    `WECHAT_LANGUAGE` VARCHAR(64) BINARY 	 COMMENT '微信用户语言配置',
    `WECHAT_NICKNAME` VARCHAR(1024) BINARY NOT NULL	 COMMENT '微信用户昵称',
    `WECHAT_PROVINCE` VARCHAR(64) BINARY 	 COMMENT '微信用户省份',
    `WECHAT_SEX` VARCHAR(8) BINARY 	 COMMENT '微信用户性别',
    `WECHAT_UNIONID` VARCHAR(64) BINARY 	 COMMENT '微信用户unionid',
    `WECHAT_PRIVILEGE` VARCHAR(20) BINARY 	 COMMENT '微信用户权限',
    `WECHAT_GROUPID` INT 	 COMMENT '微信用户组id',
    `WECHAT_TAGID_LIST` VARCHAR(512) BINARY 	 COMMENT '微信用户标签列表',
    `WECHAT_SUBSCRIBE` INT 	 COMMENT '微信用户订阅信息',
	`WECHAT_SUBSCRIBE_TIME` TIMESTAMP 	NULL DEFAULT NULL COMMENT '微信用户订阅时间',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '微信用户属性表' ;
ALTER TABLE `UME_WECHAT_USER` ADD CONSTRAINT `PK_UME_WECHAT_USER` PRIMARY KEY ( USER_ID ) ;


DROP TABLE IF EXISTS `UME_USER_ADDRESS` ;
CREATE TABLE `UME_USER_ADDRESS` (
    `USER_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '用户识别ID',
    `SEQ` INT NOT NULL	 COMMENT '序号',
    `ADDRESS_PROVINCE` VARCHAR(8) BINARY 	 COMMENT '地址(省)',
    `ADDRESS_CITY` VARCHAR(8) BINARY 	 COMMENT '地址(市)',
    `ADDRESS_DISTRICT` VARCHAR(8) BINARY 	 COMMENT '地址(区)',
    `ADDRESS_REST` VARCHAR(64) BINARY 	 COMMENT '地址(其余)',
    `CONTACT_PERSON` VARCHAR(16) BINARY 	 COMMENT '联系人',
    `CONTACT_NUMBER` VARCHAR(16) BINARY 	 COMMENT '联系电话',
    `ADDRESS_TYPE` VARCHAR(16) BINARY 	 COMMENT '地址类别',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '用户配送地址管理表' ;
ALTER TABLE `UME_USER_ADDRESS` ADD CONSTRAINT `PK_UME_USER_ADDRESS` PRIMARY KEY ( USER_ID ,SEQ ) ;


DROP TABLE IF EXISTS `UME_USER_CARD` ;
CREATE TABLE `UME_USER_CARD` (
    `USER_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '用户识别ID',
    `SEQ` INT NOT NULL	 COMMENT '序号',
    `CARD_TYPE` INT 	 COMMENT '支付卡类型',
    `CARD_NUMBER` VARCHAR(128) BINARY 	 COMMENT '支付卡卡号',
    `CARD_OWNER` VARCHAR(32) BINARY 	 COMMENT '支付卡持卡人',
    `CARD_BANK` VARCHAR(32) BINARY 	 COMMENT '支付卡开户行',
    `CARD_EXPIRATION_DATE` DATE 	 COMMENT '支付卡有效期',
    `CARD_STATUS` VARCHAR(8) BINARY 	 COMMENT '支付卡状态',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT '用户支付卡绑定管理表' ;
ALTER TABLE `UME_USER_CARD` ADD CONSTRAINT `PK_UME_USER_CARD` PRIMARY KEY ( USER_ID ,SEQ ) ;


DROP TABLE IF EXISTS `UME_USER` ;
CREATE TABLE `UME_USER` (
    `USER_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '用户识别ID',
    `USER_PASSWORD` VARCHAR(32) BINARY 	 COMMENT '用户登录密码',
    `USER_NAME` VARCHAR(256) BINARY 	 COMMENT '用户名',
    `USER_NICK_NAME` VARCHAR(256) BINARY 	 COMMENT '用户昵称',
    `USER_GENDER` INT(1) 	 COMMENT '用户性别',
    `USER_MOBILE` VARCHAR(16) BINARY 	 COMMENT '用户手机',
    `USER_EMAIL` VARCHAR(64) BINARY 	 COMMENT '用户邮箱',
    `USER_HEAD_IMAGE` VARCHAR(256) BINARY 	 COMMENT '用户头像',
    `USER_DESC` VARCHAR(256) BINARY 	 COMMENT '用户描述信息',
    `USER_STATUS` INT(1) 	 COMMENT '用户账户状态',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT 'UME用户表' ;
ALTER TABLE `UME_USER` ADD CONSTRAINT `PK_UME_USER` PRIMARY KEY ( USER_ID ) ;


DROP TABLE IF EXISTS `UME_ROLE` ;
CREATE TABLE `UME_ROLE` (
    `ROLE_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '角色ID',
    `ROLE_NAME` VARCHAR(64) BINARY 	 COMMENT '角色名称',
    `ROLE_DESC` VARCHAR(128) BINARY 	 COMMENT '角色描述',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT 'UME角色定义表' ;
ALTER TABLE `UME_ROLE` ADD CONSTRAINT `PK_UME_ROLE` PRIMARY KEY ( ROLE_ID ) ;


DROP TABLE IF EXISTS `UME_USER_ROLE` ;
CREATE TABLE `UME_USER_ROLE` (
    `USER_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '用户ID',
    `ROLE_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '用户持有角色ID',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT 'UME用户角色关系表' ;
ALTER TABLE `UME_USER_ROLE` ADD CONSTRAINT `PK_UME_USER_ROLE` PRIMARY KEY ( USER_ID ,ROLE_ID ) ;


DROP TABLE IF EXISTS `UME_RESOURCE` ;
CREATE TABLE `UME_RESOURCE` (
    `RES_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '资源ID',
    `RES_TYPE` INT(2) NOT NULL	 COMMENT '资源类型',
    `RES_NAME` VARCHAR(64) BINARY 	 COMMENT '资源名称',
    `RES_GROUP` VARCHAR(64) BINARY 	 COMMENT '资源分组',
    `RES_LINK` VARCHAR(1024) BINARY 	 COMMENT '资源链接',
    `RES_INDEX` INT(8) 	 COMMENT '资源排序序号',
    `RES_STATUS` INT(1) 	 COMMENT '资源状态',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT 'UME资源管理表' ;
ALTER TABLE `UME_RESOURCE` ADD CONSTRAINT `PK_UME_RESOURCE` PRIMARY KEY ( RES_ID ,RES_TYPE ) ;


DROP TABLE IF EXISTS `UME_ROLE_ACL` ;
CREATE TABLE `UME_ROLE_ACL` (
    `ROLE_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '角色ID',
    `ACC_RES_ID` VARCHAR(32) BINARY NOT NULL	 COMMENT '角色可访问的资源ID',
    `ACC_RES_TYPE` INT(2) NOT NULL	 COMMENT '角色可访问的资源ID',
    `ACC_LEVEL` INT(2) NOT NULL	DEFAULT 1 COMMENT '访问级别',
    `CREATE_AUTHOR` VARCHAR(32) BINARY COMMENT '创建者',
    `CREATE_DATETIME` TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    `UPDATE_AUTHOR` VARCHAR(32) BINARY COMMENT '更新者',
    `UPDATE_DATETIME` TIMESTAMP  DEFAULT CURRENT_TIMESTAMP COMMENT '更新时间'
) COMMENT 'UME角色资源访问权限关系表' ;
ALTER TABLE `UME_ROLE_ACL` ADD CONSTRAINT `PK_UME_ROLE_ACL` PRIMARY KEY ( ROLE_ID ,ACC_RES_ID ,ACC_RES_TYPE ,ACC_LEVEL ) ;


